// src/mocks/handlers.js

import { UserData } from "@/types/user";
import { http, HttpResponse } from "msw";

export const userHandlers = [
  // Login API - POST
  http.post("http://localhost:4862/api/user/login", async ({ request }) => {
    const data = (await request.json()) as { email: string; password: string };
    const { email, password } = data;
    if (email !== "test@test.com" || password !== "test1234") {
      return HttpResponse.json(
        {
          error:
            "이메일 혹은 비밀번호가 잘못 되었습니다.이메일과 비밀번호를 정확히 입력해 주세요.",
        },
        {
          status: 401,
        }
      );
    }
    return HttpResponse.json(
      {
        message: "로그인 성공",
      },
      {
        status: 201,
      }
    );
  }),
  http.get("http://localhost:4862/api/user", async () => {
    const data: UserData[] = [
      {
        id: "1",
        name: "김아름",
        status: "pending",
        request: true,
        phone: "010-1234-5678",
        score: 87,
        email: "kim.areum@example.com",
      },
      {
        id: "2",
        name: "이보람",
        status: "approved",
        request: false,
        phone: "010-2345-6789",
        score: 92,
        email: "lee.boram@example.com",
      },
      {
        id: "3",
        name: "박찬희",
        status: "request",
        request: true,
        phone: "010-3456-7890",
        score: 75,
        email: "park.chanhee@example.com",
      },
      {
        id: "4",
        name: "최다윗",
        status: "rejected",
        request: false,
        phone: "010-4567-8901",
        score: 60,
        email: "choi.dawit@example.com",
      },
      {
        id: "5",
        name: "정이슬",
        status: "pending",
        request: true,
        phone: "010-5678-9012",
        score: 81,
        email: "jung.isul@example.com",
      },
      {
        id: "6",
        name: "한상우",
        status: "approved",
        request: false,
        phone: "010-6789-0123",
        score: 95,
        email: "han.sangwoo@example.com",
      },
      {
        id: "7",
        name: "임은혜",
        status: "request",
        request: true,
        phone: "010-7890-1234",
        score: 70,
        email: "lim.eunhye@example.com",
      },
      {
        id: "8",
        name: "유현우",
        status: "rejected",
        request: false,
        phone: "010-8901-2345",
        score: 55,
        email: "yoo.hyunwoo@example.com",
      },
      {
        id: "9",
        name: "서아이",
        status: "pending",
        request: true,
        phone: "010-9012-3456",
        score: 89,
        email: "seo.ai@example.com",
      },
      {
        id: "10",
        name: "오재혁",
        status: "approved",
        request: false,
        phone: "010-0123-4567",
        score: 97,
        email: "oh.jaehyuk@example.com",
      },
      {
        id: "11",
        name: "문건우",
        status: "request",
        request: true,
        phone: "010-1111-2222",
        score: 78,
        email: "moon.geonwoo@example.com",
      },
      {
        id: "12",
        name: "강유진",
        status: "rejected",
        request: false,
        phone: "010-2222-3333",
        score: 62,
        email: "kang.yujin@example.com",
      },
      {
        id: "13",
        name: "손민수",
        status: "pending",
        request: true,
        phone: "010-3333-4444",
        score: 85,
        email: "son.minsu@example.com",
      },
      {
        id: "14",
        name: "백나연",
        status: "approved",
        request: false,
        phone: "010-4444-5555",
        score: 93,
        email: "baek.nayeon@example.com",
      },
      {
        id: "15",
        name: "정오성",
        status: "request",
        request: true,
        phone: "010-5555-6666",
        score: 76,
        email: "jung.oseong@example.com",
      },
      {
        id: "16",
        name: "윤태호",
        status: "rejected",
        request: false,
        phone: "010-6666-7777",
        score: 58,
        email: "yoon.taehyuk@example.com",
      },
      {
        id: "17",
        name: "류민준",
        status: "pending",
        request: true,
        phone: "010-7777-8888",
        score: 88,
        email: "ryu.minjun@example.com",
      },
      {
        id: "18",
        name: "김라희",
        status: "approved",
        request: false,
        phone: "010-8888-9999",
        score: 99,
        email: "kim.rahee@example.com",
      },
      {
        id: "19",
        name: "홍수진",
        status: "request",
        request: true,
        phone: "010-9999-0000",
        score: 73,
        email: "hong.sujin@example.com",
      },
      {
        id: "20",
        name: "박태은",
        status: "rejected",
        request: false,
        phone: "010-0000-1111",
        score: 65,
        email: "park.taeeun@example.com",
      },
    ]
    return new HttpResponse(JSON.stringify(data), { status: 200 });
  }),
  http.get("http://localhost:4862/api/user/latest", async () => {
    const data: UserData[] = [
      {
        id: "1",
        name: "김아름",
        status: "pending",
        request: true,
        phone: "010-1234-5678",
        score: 87,
        email: "kim.areum@example.com",
      },
      {
        id: "2",
        name: "이보람",
        status: "approved",
        request: false,
        phone: "010-2345-6789",
        score: 92,
        email: "lee.boram@example.com",
      },
      {
        id: "3",
        name: "박찬희",
        status: "request",
        request: true,
        phone: "010-3456-7890",
        score: 75,
        email: "park.chanhee@example.com",
      },
      {
        id: "4",
        name: "최다윗",
        status: "rejected",
        request: false,
        phone: "010-4567-8901",
        score: 60,
        email: "choi.dawit@example.com",
      },
      {
        id: "5",
        name: "정이슬",
        status: "pending",
        request: true,
        phone: "010-5678-9012",
        score: 81,
        email: "jung.isul@example.com",
      },
      {
        id: "6",
        name: "한상우",
        status: "approved",
        request: false,
        phone: "010-6789-0123",
        score: 95,
        email: "han.sangwoo@example.com",
      },
      {
        id: "7",
        name: "임은혜",
        status: "request",
        request: true,
        phone: "010-7890-1234",
        score: 70,
        email: "lim.eunhye@example.com",
      },
      {
        id: "8",
        name: "유현우",
        status: "rejected",
        request: false,
        phone: "010-8901-2345",
        score: 55,
        email: "yoo.hyunwoo@example.com",
      },
      {
        id: "9",
        name: "서아이",
        status: "pending",
        request: true,
        phone: "010-9012-3456",
        score: 89,
        email: "seo.ai@example.com",
      },
      {
        id: "10",
        name: "오재혁",
        status: "approved",
        request: false,
        phone: "010-0123-4567",
        score: 97,
        email: "oh.jaehyuk@example.com",
      },
      {
        id: "11",
        name: "문건우",
        status: "request",
        request: true,
        phone: "010-1111-2222",
        score: 78,
        email: "moon.geonwoo@example.com",
      },
      {
        id: "12",
        name: "강유진",
        status: "rejected",
        request: false,
        phone: "010-2222-3333",
        score: 62,
        email: "kang.yujin@example.com",
      },
      {
        id: "13",
        name: "손민수",
        status: "pending",
        request: true,
        phone: "010-3333-4444",
        score: 85,
        email: "son.minsu@example.com",
      },
      {
        id: "14",
        name: "백나연",
        status: "approved",
        request: false,
        phone: "010-4444-5555",
        score: 93,
        email: "baek.nayeon@example.com",
      },
      {
        id: "15",
        name: "정오성",
        status: "request",
        request: true,
        phone: "010-5555-6666",
        score: 76,
        email: "jung.oseong@example.com",
      },
      {
        id: "16",
        name: "윤태호",
        status: "rejected",
        request: false,
        phone: "010-6666-7777",
        score: 58,
        email: "yoon.taehyuk@example.com",
      },
      {
        id: "17",
        name: "류민준",
        status: "pending",
        request: true,
        phone: "010-7777-8888",
        score: 88,
        email: "ryu.minjun@example.com",
      },
      {
        id: "18",
        name: "김라희",
        status: "approved",
        request: false,
        phone: "010-8888-9999",
        score: 99,
        email: "kim.rahee@example.com",
      },
      {
        id: "19",
        name: "홍수진",
        status: "request",
        request: true,
        phone: "010-9999-0000",
        score: 73,
        email: "hong.sujin@example.com",
      },
      {
        id: "20",
        name: "박태은",
        status: "rejected",
        request: false,
        phone: "010-0000-1111",
        score: 65,
        email: "park.taeeun@example.com",
      },
    ].filter((el) => Number(el.id) % 2 === 0);
    return new HttpResponse(JSON.stringify(data.splice(0, 5)), { status: 200 });
  }),
  http.get("http://localhost:4862/api/user/new", async () => {
    const data: UserData[] = [
      {
        id: "1",
        name: "김아름",
        status: "pending",
        request: true,
        phone: "010-1234-5678",
        score: 87,
        email: "kim.areum@example.com",
      },
      {
        id: "2",
        name: "이보람",
        status: "approved",
        request: false,
        phone: "010-2345-6789",
        score: 92,
        email: "lee.boram@example.com",
      },
      {
        id: "3",
        name: "박찬희",
        status: "request",
        request: true,
        phone: "010-3456-7890",
        score: 75,
        email: "park.chanhee@example.com",
      },
      {
        id: "4",
        name: "최다윗",
        status: "rejected",
        request: false,
        phone: "010-4567-8901",
        score: 60,
        email: "choi.dawit@example.com",
      },
      {
        id: "5",
        name: "정이슬",
        status: "pending",
        request: true,
        phone: "010-5678-9012",
        score: 81,
        email: "jung.isul@example.com",
      },
      {
        id: "6",
        name: "한상우",
        status: "approved",
        request: false,
        phone: "010-6789-0123",
        score: 95,
        email: "han.sangwoo@example.com",
      },
      {
        id: "7",
        name: "임은혜",
        status: "request",
        request: true,
        phone: "010-7890-1234",
        score: 70,
        email: "lim.eunhye@example.com",
      },
      {
        id: "8",
        name: "유현우",
        status: "rejected",
        request: false,
        phone: "010-8901-2345",
        score: 55,
        email: "yoo.hyunwoo@example.com",
      },
      {
        id: "9",
        name: "서아이",
        status: "pending",
        request: true,
        phone: "010-9012-3456",
        score: 89,
        email: "seo.ai@example.com",
      },
      {
        id: "10",
        name: "오재혁",
        status: "approved",
        request: false,
        phone: "010-0123-4567",
        score: 97,
        email: "oh.jaehyuk@example.com",
      },
      {
        id: "11",
        name: "문건우",
        status: "request",
        request: true,
        phone: "010-1111-2222",
        score: 78,
        email: "moon.geonwoo@example.com",
      },
      {
        id: "12",
        name: "강유진",
        status: "rejected",
        request: false,
        phone: "010-2222-3333",
        score: 62,
        email: "kang.yujin@example.com",
      },
      {
        id: "13",
        name: "손민수",
        status: "pending",
        request: true,
        phone: "010-3333-4444",
        score: 85,
        email: "son.minsu@example.com",
      },
      {
        id: "14",
        name: "백나연",
        status: "approved",
        request: false,
        phone: "010-4444-5555",
        score: 93,
        email: "baek.nayeon@example.com",
      },
      {
        id: "15",
        name: "정오성",
        status: "request",
        request: true,
        phone: "010-5555-6666",
        score: 76,
        email: "jung.oseong@example.com",
      },
      {
        id: "16",
        name: "윤태호",
        status: "rejected",
        request: false,
        phone: "010-6666-7777",
        score: 58,
        email: "yoon.taehyuk@example.com",
      },
      {
        id: "17",
        name: "류민준",
        status: "pending",
        request: true,
        phone: "010-7777-8888",
        score: 88,
        email: "ryu.minjun@example.com",
      },
      {
        id: "18",
        name: "김라희",
        status: "approved",
        request: false,
        phone: "010-8888-9999",
        score: 99,
        email: "kim.rahee@example.com",
      },
      {
        id: "19",
        name: "홍수진",
        status: "request",
        request: true,
        phone: "010-9999-0000",
        score: 73,
        email: "hong.sujin@example.com",
      },
      {
        id: "20",
        name: "박태은",
        status: "rejected",
        request: false,
        phone: "010-0000-1111",
        score: 65,
        email: "park.taeeun@example.com",
      },
    ].filter((el) => Number(el.id) % 2 !== 0);
    return new HttpResponse(JSON.stringify(data.splice(0, 5)), { status: 200 });
  }),
];
